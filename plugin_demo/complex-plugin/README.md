# å¤æ‚æ•°æ®å¤„ç†æ’ä»¶

è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„æ•°æ®å¤„ç†æ’ä»¶ï¼Œå±•ç¤ºäº†å¦‚ä½•æ„å»ºåŒ…å«å¤šä¸ªæ–‡ä»¶å’Œç»„ä»¶çš„å¤æ‚æ’ä»¶ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
complex-plugin/
â”œâ”€â”€ src/main/java/com/example/plugin/complex/
â”‚   â”œâ”€â”€ DataProcessingPlugin.java          # ä¸»æ’ä»¶ç±»
â”‚   â”œâ”€â”€ model/                             # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ DataRecord.java               # æ•°æ®è®°å½•æ¨¡å‹
â”‚   â”‚   â””â”€â”€ ProcessingResult.java         # å¤„ç†ç»“æœæ¨¡å‹
â”‚   â”œâ”€â”€ service/                          # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ DataTransformService.java     # æ•°æ®è½¬æ¢æœåŠ¡
â”‚   â”‚   â””â”€â”€ DataAnalysisService.java      # æ•°æ®åˆ†ææœåŠ¡
â”‚   â””â”€â”€ util/                             # å·¥å…·ç±»
â”‚       â”œâ”€â”€ DataValidator.java            # æ•°æ®éªŒè¯å·¥å…·
â”‚       â””â”€â”€ StatisticsCalculator.java     # ç»Ÿè®¡è®¡ç®—å·¥å…·
â”œâ”€â”€ src/main/resources/
â”‚   â”œâ”€â”€ plugin.properties                 # æ’ä»¶é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ META-INF/MANIFEST.MF             # æ’ä»¶æ¸…å•æ–‡ä»¶
â””â”€â”€ pom.xml                              # Mavené…ç½®
```

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ” æ•°æ®éªŒè¯ (validate)
- æ•°æ®å®Œæ•´æ€§æ£€æŸ¥
- æ ¼å¼éªŒè¯
- ä¸šåŠ¡è§„åˆ™éªŒè¯
- æ•°æ®è´¨é‡è¯„åˆ†

### ğŸ§¹ æ•°æ®æ¸…æ´— (clean)
- ç©ºå€¼å¤„ç†
- æ•°æ®æ ‡å‡†åŒ–
- é‡å¤æ•°æ®å»é™¤
- å¼‚å¸¸å€¼å¤„ç†

### ğŸ”„ æ•°æ®è½¬æ¢ (transform)
- **æ’åº**: æŒ‰å­—æ®µæ’åºï¼ˆå‡åº/é™åºï¼‰
- **è¿‡æ»¤**: åŸºäºæ¡ä»¶è¿‡æ»¤æ•°æ®
- **èšåˆ**: åˆ†ç»„èšåˆè®¡ç®—
- **æ ‡å‡†åŒ–**: Min-Maxã€Z-Scoreã€å°æ•°å®šæ ‡

### ğŸ“Š æ•°æ®åˆ†æ (analyze)
- åŸºç¡€ç»Ÿè®¡ä¿¡æ¯ï¼ˆå‡å€¼ã€ä¸­ä½æ•°ã€æ ‡å‡†å·®ç­‰ï¼‰
- åˆ†ç±»ç»Ÿè®¡åˆ†æ
- æ—¶é—´åºåˆ—åˆ†æ
- å¼‚å¸¸å€¼æ£€æµ‹
- ç›¸å…³æ€§åˆ†æ
- è¶‹åŠ¿åˆ†æ

### ğŸ“‹ æŠ¥å‘Šç”Ÿæˆ (report)
- æ‘˜è¦æŠ¥å‘Š
- è¯¦ç»†æŠ¥å‘Š
- CSVæ ¼å¼å¯¼å‡º
- è‡ªå®šä¹‰æŠ¥å‘Šæ¨¡æ¿

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. æ•°æ®éªŒè¯ç¤ºä¾‹

```json
{
  "operation": "validate",
  "data": [
    {
      "id": "001",
      "name": "äº§å“A",
      "value": 100.5,
      "category": "é”€å”®",
      "timestamp": "2024-01-01T10:00:00"
    }
  ]
}
```

### 2. æ•°æ®æ¸…æ´—ç¤ºä¾‹

```json
{
  "operation": "clean",
  "data": [
    {
      "id": "001",
      "name": "  äº§å“A  ",
      "value": 100.567,
      "category": "SALES",
      "timestamp": "2024-01-01T10:00:00"
    }
  ]
}
```

### 3. æ•°æ®è½¬æ¢ç¤ºä¾‹

#### æ’åº
```json
{
  "operation": "transform",
  "transformType": "sort",
  "sortBy": "value",
  "ascending": false,
  "data": [...]
}
```

#### è¿‡æ»¤
```json
{
  "operation": "transform",
  "transformType": "filter",
  "filters": {
    "category": "é”€å”®",
    "min_value": 50,
    "max_value": 200
  },
  "data": [...]
}
```

#### èšåˆ
```json
{
  "operation": "transform",
  "transformType": "aggregate",
  "groupBy": "category",
  "aggregateFunction": "avg",
  "data": [...]
}
```

#### æ ‡å‡†åŒ–
```json
{
  "operation": "transform",
  "transformType": "normalize",
  "normalizationType": "min_max",
  "data": [...]
}
```

### 4. æ•°æ®åˆ†æç¤ºä¾‹

```json
{
  "operation": "analyze",
  "data": [...]
}
```

### 5. æŠ¥å‘Šç”Ÿæˆç¤ºä¾‹

```json
{
  "operation": "report",
  "format": "summary",
  "data": [...]
}
```

### 6. ç”Ÿæˆæ¼”ç¤ºæ•°æ®

```json
{
  "operation": "demo"
}
```

## ğŸ“ˆ è¾“å‡ºæ ¼å¼

æ’ä»¶è¿”å›ç»Ÿä¸€çš„ `ProcessingResult` æ ¼å¼ï¼š

```json
{
  "success": true,
  "message": "å¤„ç†å®Œæˆ",
  "processedAt": "2024-01-01T10:00:00",
  "inputCount": 100,
  "outputCount": 95,
  "processingTimeMs": 150,
  "data": [...],
  "statistics": {...},
  "errors": [],
  "warnings": []
}
```

## ğŸ”§ é…ç½®é€‰é¡¹

æ’ä»¶æ”¯æŒé€šè¿‡ `plugin.properties` æ–‡ä»¶è¿›è¡Œé…ç½®ï¼š

- `data.max.records`: æœ€å¤§å¤„ç†è®°å½•æ•°ï¼ˆé»˜è®¤10000ï¼‰
- `data.processing.timeout`: å¤„ç†è¶…æ—¶æ—¶é—´ï¼ˆé»˜è®¤300ç§’ï¼‰
- `statistics.enable.advanced`: å¯ç”¨é«˜çº§ç»Ÿè®¡ï¼ˆé»˜è®¤trueï¼‰
- `report.formats`: æ”¯æŒçš„æŠ¥å‘Šæ ¼å¼
- `cache.enable`: å¯ç”¨ç¼“å­˜ï¼ˆé»˜è®¤falseï¼‰

## ğŸ“Š æ€§èƒ½ç‰¹æ€§

- æ”¯æŒå¤§æ•°æ®é›†å¤„ç†ï¼ˆæœ€å¤š10000æ¡è®°å½•ï¼‰
- å†…å­˜ä¼˜åŒ–çš„æµå¼å¤„ç†
- å¹¶è¡Œè®¡ç®—æ”¯æŒ
- å¯é…ç½®çš„è¶…æ—¶æ§åˆ¶
- è¯¦ç»†çš„æ€§èƒ½æŒ‡æ ‡

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **æ ¸å¿ƒ**: Java 11+
- **JSONå¤„ç†**: Jackson
- **æ•°å­¦è®¡ç®—**: Apache Commons Math
- **CSVå¤„ç†**: Apache Commons CSV
- **å·¥å…·åº“**: Apache Commons Lang
- **æ„å»ºå·¥å…·**: Maven + Shade Plugin

## ğŸ“ å¼€å‘è¯´æ˜

è¿™ä¸ªæ’ä»¶å±•ç¤ºäº†å¦‚ä½•æ„å»ºå¤æ‚çš„ã€å¤šç»„ä»¶çš„æ’ä»¶ç³»ç»Ÿï¼š

1. **æ¨¡å—åŒ–è®¾è®¡**: å°†åŠŸèƒ½æ‹†åˆ†ä¸ºå¤šä¸ªæœåŠ¡å’Œå·¥å…·ç±»
2. **æ•°æ®æ¨¡å‹**: å®šä¹‰æ¸…æ™°çš„æ•°æ®ç»“æ„
3. **æœåŠ¡å±‚**: å®ç°å…·ä½“çš„ä¸šåŠ¡é€»è¾‘
4. **å·¥å…·ç±»**: æä¾›å¯å¤ç”¨çš„å·¥å…·æ–¹æ³•
5. **é…ç½®ç®¡ç†**: æ”¯æŒå¤–éƒ¨é…ç½®
6. **é”™è¯¯å¤„ç†**: å®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶
7. **æ€§èƒ½ç›‘æ§**: å†…ç½®æ€§èƒ½æŒ‡æ ‡æ”¶é›†

## ğŸ” æ‰©å±•å»ºè®®

1. **æ·»åŠ æ›´å¤šæ•°æ®æº**: æ”¯æŒæ•°æ®åº“ã€æ–‡ä»¶ç­‰æ•°æ®æº
2. **æœºå™¨å­¦ä¹ é›†æˆ**: æ·»åŠ é¢„æµ‹å’Œåˆ†ç±»åŠŸèƒ½
3. **å¯è§†åŒ–æ”¯æŒ**: ç”Ÿæˆå›¾è¡¨å’Œå¯è§†åŒ–æŠ¥å‘Š
4. **æµå¼å¤„ç†**: æ”¯æŒå®æ—¶æ•°æ®æµå¤„ç†
5. **åˆ†å¸ƒå¼è®¡ç®—**: æ”¯æŒå¤§è§„æ¨¡æ•°æ®å¤„ç†
6. **æ’ä»¶çƒ­æ›´æ–°**: æ”¯æŒæ’ä»¶çš„åŠ¨æ€æ›´æ–°

è¿™ä¸ªå¤æ‚æ’ä»¶ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•æ„å»ºä¼ä¸šçº§çš„æ’ä»¶ç³»ç»Ÿï¼Œå¯ä»¥ä½œä¸ºå¼€å‘æ›´å¤æ‚æ’ä»¶çš„å‚è€ƒæ¨¡æ¿ã€‚
